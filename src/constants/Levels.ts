// Level data for Lode Runner style game
export interface LevelData {
  id: number;
  name: string;
  width: number;
  height: number;
  tiles: string[][];
  enemies: { x: number; y: number; type: string }[];
  gold: { x: number; y: number }[];
  playerStart: { x: number; y: number };
}

// Tile types:
// '.' = empty space
// '#' = solid brick
// '=' = ladder
// '-' = rope/bar
// 'G' = gold (will be converted to gold array)
// 'P' = player start (will be converted to playerStart)
// 'E' = enemy (will be converted to enemies array)

export const LODE_RUNNER_LEVELS: LevelData[] = [
  {
    id: 1,
    name: 'Tutorial',
    width: 28,
    height: 16,
    tiles: [
      ['#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#'],
      ['#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','.','.','.','.','.','.','.','G','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','.','.','.','.','.','.','#','#','#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','.','G','.','.','.','.','.','.','.','.','.','.','.','G','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','#','#','#','.','.','.','.','.','.','.','.','.','.','#','#','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','P','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','E','.','.','.','.','#'],
      ['#','#','#','#','#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#','#','#','#','.','.','.','.','#'],
      ['#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','.','.','.','G','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','.','.','#','#','#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#'],
      ['#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#'],
    ],
    enemies: [],
    gold: [],
    playerStart: { x: 0, y: 0 },
  },
  {
    id: 2,
    name: 'The Gauntlet',
    width: 28,
    height: 16,
    tiles: [
      ['#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#'],
      ['#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','.','.','.','.','.','G','.','.','.','.','.','.','G','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','.','.','.','.','#','#','#','.','.','.','.','#','#','#','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','.','.','.','.','.','.','.','E','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','#','#','#','#','#','#','#','.','.','.','.','.','.','.','.','.','.','.','.','#','#','#','#','#','#','#','#','#'],
      ['#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','P','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','E','.','.','.','.','#'],
      ['#','#','#','#','#','#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','.','.','.','G','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','G','.','.','.','.','#'],
      ['#','.','#','#','#','#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#','#','#','#','.','#'],
      ['#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'],
      ['#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#'],
      ['#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#'],
    ],
    enemies: [],
    gold: [],
    playerStart: { x: 0, y: 0 },
  },
];

// Helper function to parse level data
export function parseLevelData(level: LevelData): LevelData {
  const gold: { x: number; y: number }[] = [];
  const enemies: { x: number; y: number; type: string }[] = [];
  let playerStart = { x: 3, y: 8 };

  const parsedTiles = level.tiles.map((row, y) =>
    row.map((tile, x) => {
      if (tile === 'G') {
        gold.push({ x: x * 16, y: y * 16 });
        return '.';
      }
      if (tile === 'E') {
        enemies.push({ x: x * 16, y: y * 16, type: 'runner' });
        return '.';
      }
      if (tile === 'P') {
        playerStart = { x: x * 16, y: y * 16 };
        return '.';
      }
      return tile;
    })
  );

  return {
    ...level,
    tiles: parsedTiles,
    gold,
    enemies,
    playerStart,
  };
}
